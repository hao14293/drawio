<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36" version="24.7.17">
  <diagram name="第 1 页" id="gsKAoiGdL8-yf9Y7CnV_">
    <mxGraphModel dx="1147" dy="730" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="lX0ENtyYD9PtGXseFzCh-1" value="中台下发任务" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="330" y="20" width="136" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lX0ENtyYD9PtGXseFzCh-2" value="&lt;div style=&quot;background-color:#ffffff;color:#080808;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:11.3pt;&quot;&gt;&lt;pre&gt;rpc submitBatchTask&lt;/pre&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;strokeColor=default;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="510" y="25" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lX0ENtyYD9PtGXseFzCh-4" value="&lt;span style=&quot;font-weight: 400;&quot;&gt;request参数校验&lt;/span&gt;" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="278" y="110" width="232" height="150" as="geometry" />
        </mxCell>
        <mxCell id="lX0ENtyYD9PtGXseFzCh-5" value="batchTaskId和OperateInfo不能为空" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="lX0ENtyYD9PtGXseFzCh-4" vertex="1">
          <mxGeometry x="11" y="30" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lX0ENtyYD9PtGXseFzCh-6" value="需要支持BusinessType-FunctionType" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="lX0ENtyYD9PtGXseFzCh-4" vertex="1">
          <mxGeometry x="6" y="60" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lX0ENtyYD9PtGXseFzCh-7" value="要有算子包信息或三方包信息" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="lX0ENtyYD9PtGXseFzCh-4" vertex="1">
          <mxGeometry x="26" y="90" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lX0ENtyYD9PtGXseFzCh-8" value="OperatorNumber 和 PowerId要大于0" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="lX0ENtyYD9PtGXseFzCh-4" vertex="1">
          <mxGeometry x="6" y="118" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lX0ENtyYD9PtGXseFzCh-9" value="组建参数" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="271.25" y="320" width="245.5" height="140" as="geometry" />
        </mxCell>
        <mxCell id="lX0ENtyYD9PtGXseFzCh-11" value="TaskQueue，类型为BATCH_TASK，&lt;div&gt;状态为TODO&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="lX0ENtyYD9PtGXseFzCh-9" vertex="1">
          <mxGeometry x="24" y="53" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lX0ENtyYD9PtGXseFzCh-12" value="BatchTask，状态设为PADDING" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="lX0ENtyYD9PtGXseFzCh-9" vertex="1">
          <mxGeometry x="24" y="23" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lX0ENtyYD9PtGXseFzCh-13" value="将BatchTask和TaskQueue分别插入数据库&lt;div&gt;BATCH_TASK和TASK_QUEUE&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="lX0ENtyYD9PtGXseFzCh-9" vertex="1">
          <mxGeometry x="-4.5" y="90" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lX0ENtyYD9PtGXseFzCh-14" value="向中台回复SUCCESS" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="70" y="360" width="140" height="37" as="geometry" />
        </mxCell>
        <mxCell id="lX0ENtyYD9PtGXseFzCh-15" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8);&quot;&gt;&lt;pre style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;font style=&quot;font-size: 13px;&quot; face=&quot;Helvetica&quot;&gt;TaskQueueHandleServiceImpl&lt;/font&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="258.5" y="500" width="330" height="500" as="geometry" />
        </mxCell>
        <mxCell id="lX0ENtyYD9PtGXseFzCh-16" value="从TASK_QUEUE数据表中取出状态为TODO，&lt;div&gt;ID升序排列最靠前的任务&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="lX0ENtyYD9PtGXseFzCh-15" vertex="1">
          <mxGeometry x="9" y="35" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lX0ENtyYD9PtGXseFzCh-18" value="&lt;span style=&quot;font-weight: 400; text-wrap: nowrap;&quot;&gt;Task不为空，则进行处理&lt;/span&gt;" style="swimlane;whiteSpace=wrap;html=1;" parent="lX0ENtyYD9PtGXseFzCh-15" vertex="1">
          <mxGeometry x="9" y="85" width="321" height="385" as="geometry" />
        </mxCell>
        <mxCell id="lX0ENtyYD9PtGXseFzCh-19" value="取出TaskType和参数" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="lX0ENtyYD9PtGXseFzCh-18" vertex="1">
          <mxGeometry x="95.5" y="25" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lX0ENtyYD9PtGXseFzCh-20" value="根据参数类型做对应的处理，这里只看Batch_TASK" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="lX0ENtyYD9PtGXseFzCh-18" vertex="1">
          <mxGeometry x="10.5" y="55" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lX0ENtyYD9PtGXseFzCh-21" value="Text" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="375" y="668" width="50" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
